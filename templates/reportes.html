{%extends "base.html"%}

{%block content%}

<section id="main-content">
      <section class="wrapper">
        <h3><i class="fa fa-angle-right"></i> Reportes</h3>
        <div class="row">
          <div class="col-md-12">
            <div class="content-panel">
              <h4><i class="fa fa-angle-right"></i> Seleccione un reporte</h4>
              <hr>
              <table class="table">
                <tbody>

                  <!-- PRIMER REPORTE -->
                  <tr>
                    <td>Reservas realizadas en el mes de:</td>
                    <td>
                      <div class="form-group">
                        <label class="control-label col-md-3">Sólo meses:</label>
                        <div class="col-md-3 col-xs-11">
                          <div data-date-minviewmode="months" data-date-viewmode="years" data-date-format="yyyy-mm" data-date="2014-01" class="input-append date dpMonths">
                            <input type="text" readonly=""  size="16" class="form-control" id = "mes">
                            <span class="input-group-btn add-on">
                              <button class="btn btn-theme" type="button"><i class="fa fa-calendar"></i></button>
                            </span>
                          </div>
                          <span class="help-block">Seleccione el mes del año que desea consultar.</span>
                        </div>
                      </div>
                    </td>
                    <td>
                      <input type="button" onclick="verReporte('reservas');" class="btn btn-round btn-info" value = "Ver reporte">
                    <td>
                  </tr>

                   <!-- SEGUNDO REPORTE -->
                  <tr>
                    <td>Los 5 Sitios turisticos mas visitados de todos los tiempos</td>
                    <td>
                      
                    </td>
                    <td>
                      <a type="button" href="/reportes_lista$sitios_turisticos$_" class="btn btn-round btn-info">
                        Ver reporte
                      </a>
                    <td>
                  </tr>

                  <!-- TERCER REPORTE -->
                  <tr>
                    <td>Personas que han viajado en vuelos de 
                      <select id = "cbx1" class="btn btn-default dropdown-toggle">
                        {% for dato in datos %}
                        <option value="{{dato}}">{{dato[0]}}</option>
                        {% endfor %}
                      </select>
                    </td> 

                    <td>    
                        pero no en vuelos de 
                        <select id = "cbx2" class="btn btn-default dropdown-toggle">
                          {% for dato in datos %}
                          <option value="{{dato}}">{{dato[0]}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td>
                      <input type="button" onclick="verReporte('reporte_vuelos_personas');" class="btn btn-round btn-info" value = "Ver reporte">
                    <td>
                  </tr>


                </tbody>
              </table>
            </div>
          </div>
        </div>


     </section>
</section>

<script type="text/javascript">

function verReporte(tipo) {
    let input = document.getElementById("mes");
    tipo = String(tipo)
    if(tipo == "reservas")
    {
      window.location = "/reportes_lista$" + String(tipo) + "$" + input.value;
    }
    else if(tipo == "reporte_vuelos_personas")
    {
      var cbx1 = document.getElementById("cbx1").value;
      var cbx2 = document.getElementById("cbx2").value;
      cbx1 = cbx1.substring(2, cbx1.length - 3);
      cbx2 = cbx2.substring(2, cbx2.length - 3);
      window.location = "/reportes_lista$" + String(tipo) + "$" + cbx1 + "," + cbx2; 
    }
}

</script>>         


{%endblock%}